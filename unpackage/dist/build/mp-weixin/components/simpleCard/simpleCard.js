"use strict";const e=require("../../common/vendor.js"),t={name:"simpleCard",data:()=>({}),props:{simpleInfo:Object,showbutton:!0},methods:{agree(t){console.log("接取任务");let s=this.$store.state.apiBaseUrl+"/api/Assignment/take/"+this.simpleInfo.id;e.index.requestWithCookie({url:s,success:t=>{200===t.statusCode?t.data.data.success?(e.index.showModal({content:t.data.message}),this.simpleInfo.agree=1):e.index.showModal({content:t.data.data.reason}):e.index.showModal({content:"网络出错"})},fail:t=>{console.log("failed"),e.index.showModal({content:t})}})},disagree(t){let s=this.$store.state.apiBaseUrl+"/api/TaskRequest/disagree/"+this.simpleInfo.id;e.index.requestWithCookie({url:s,method:"PUT",data:this.simpleInfo,success:t=>{200===t.statusCode?(e.index.showModal({showCancel:!1,content:t.data}),this.simpleInfo.agree=0):e.index.showModal({showCancel:!1,content:t.data.title})},fail:t=>{console.log("failed"),e.index.showModal({content:t})}})},contact(t){e.index.navigateTo({url:"/pages/chat/chat?cid="+this.simpleInfo.taskId+"&userName="+this.simpleInfo.userName+"&userId="+this.simpleInfo.userId})}},computed:{title(){return this.simpleInfo&&this.simpleInfo.title?this.simpleInfo.title:"标题出错"},type(){return this.simpleInfo&&this.simpleInfo.tag?this.simpleInfo.tag:"类型"},comment(){return this.simpleInfo&&this.simpleInfo.comment?this.simpleInfo.comment:""}}};const s=e._export_sfc(t,[["render",function(t,s,o,i,n,a){return e.e({a:e.t(a.title),b:e.t(a.comment),c:e.t(o.simpleInfo.userName),d:e.o(((...e)=>a.contact&&a.contact(...e))),e:e.o(((...e)=>a.agree&&a.agree(...e))),f:e.o(((...e)=>a.disagree&&a.disagree(...e))),g:o.showbutton&&2===o.simpleInfo.agree,h:0===o.simpleInfo.agree},(o.simpleInfo.agree,{}),{i:1===o.simpleInfo.agree},(o.simpleInfo.agree,{}))}]]);wx.createComponent(s);
