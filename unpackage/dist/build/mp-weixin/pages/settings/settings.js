"use strict";const e=require("../../common/vendor.js"),t={data:()=>({}),computed:{imgsrc(){return this.$store.state.useravatar}},methods:{identityCheck(t){e.index.navigateTo({url:"identityCheck/identityCheck"})},unregister(t){e.index.navigateTo({url:"unregister/unregister"})},avataSet(t){e.index.showActionSheet({itemList:["从相册选择","拍照"],success:t=>{console.log(t),0===t.tapIndex&&e.index.chooseImage({count:1,crop:{with:800,height:800},success:t=>{console.log(t),t.tempFiles[0].size>2097152?e.index.showToast({title:"图片大小超过2M,请重新选择。"}):e.index.uploadFile({name:"user-avatar",filePath:t.tempFilePaths[0],url:this.$store.state.apiBaseUrl+"/api/Image/upload",success:e=>{201===e.statusCode&&this.$store.commit("setUserAvatar",e.data[0].url)}})}}),t.tapIndex}})}}};const s=e._export_sfc(t,[["render",function(t,s,i,a,r,o){return{a:o.imgsrc,b:e.o(((...e)=>o.avataSet&&o.avataSet(...e))),c:e.o(((...e)=>o.identityCheck&&o.identityCheck(...e))),d:e.o(((...e)=>o.unregister&&o.unregister(...e)))}}]]);wx.createPage(s);
